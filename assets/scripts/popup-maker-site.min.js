(function(c){c.isFunction(c.fn.on)||(c.fn.on=function(b,c,f){return this.delegate(c,b,f)},c.fn.off=function(b,c,f){return this.undelegate(c,b,f)});c.support.transition||(c.fn.transition=c.fn.animate);c.fn.popmake=function(b){if(c.fn.popmake.methods[b])return c.fn.popmake.methods[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return c.fn.popmake.methods.init.apply(this,arguments);c.error("Method "+b+" does not exist on jQuery.fn.popmake")};c.fn.popmake.last_open_trigger= null;c.fn.popmake.last_close_trigger=null;c.fn.popmake.methods={init:function(b){return this.each(function(){var e=c(this),f=c.extend(!0,{},c.fn.popmake.defaults,e.data("popmake"),b);e.parent().is("body")||e.appendTo("body");c("#"+f.overlay.attr.id).length||c("<div>").attr(f.overlay.attr).appendTo("body");c(window).on("resize",function(){e.hasClass("active")&&c.fn.popmake.utilities.throttle(setTimeout(function(){e.popmake("reposition")},25),500,!1)});e.data("popmake",f).on("popmakeBeforeOpen.hide_popup", function(){c(this).css({visibility:"visible"}).hide().addClass(f.container.active_class);f.meta.display.stackable||e.popmake("close_all")}).on("popmakeAfterClose.close_overlay",function(){var a=c("#"+f.overlay.attr.id);a.length&&a.is(":visible")&&a.fadeOut(f.close.close_speed)}).on("popmakeAfterClose.reset_videos",function(){c("iframe",e).filter('[src*="youtube"],[src*="vimeo"]').each(function(){var a=c(this).attr("src");c(this).attr("src","").attr("src",a)})}).on("popmakeBeforeOpen.setup_close", function(){e.popmake("setup_close")}).on("popmakeBeforeOpen.retheme",function(){e.popmake("retheme")}).on("popmakeBeforeOpen.reposition",function(){e.popmake("reposition")}).trigger("popmakeInit");return this})},setup_close:function(){var b=c(this),e=b.data("popmake"),f=c("#"+e.overlay.attr.id),a=c("."+e.close.attr["class"],b);a.off("click.popmake").on("click.popmake",function(a){a.preventDefault();a.stopPropagation();c.fn.popmake.last_close_trigger="Close Click";b.popmake("close")});if(e.meta.close.esc_press)c(window).off("keyup.popmake").on("keyup.popmake", function(a){27===a.keyCode&&(c.fn.popmake.last_close_trigger="ESC Button",b.popmake("close"))});if(e.meta.close.overlay_click)f.off("click.popmake").on("click.popmake",function(a){a.preventDefault();a.stopPropagation();c.fn.popmake.last_close_trigger="Overlay Click";b.popmake("close")});b.on("popmakeAfterClose",function(){c(window).off("keyup.popmake");f.off("click.popmake");a.off("click.popmake")}).trigger("popmakeSetupClose")},open:function(b){var e=c(this),f=e.data("popmake");e.trigger("popmakeBeforeOpen").popmake("animate", f.meta.display.animation_type,function(){e.trigger("popmakeAfterOpen");void 0!==b&&b()});return this},close:function(){return this.each(function(){var b=c(this),e=b.data("popmake");b.trigger("popmakeBeforeClose").removeClass("active").fadeOut(e.close.close_speed,function(){b.trigger("popmakeAfterClose")});return this})},close_all:function(){var b=c(this).data("popmake");c("."+b.container.attr["class"]).removeClass("active").hide(0);return this},reposition:function(b){c(this).trigger("popmakeBeforeReposition"); var e=c(this),f=e.data("popmake"),a=f.meta.display,d=a.location,g={my:"",at:""},h=!1;0<=d.indexOf("left")&&(g={my:g.my+" left"+(0!==a.position_left?"+"+a.position_left:""),at:g.at+" left"});0<=d.indexOf("right")&&(g={my:g.my+" right"+(0!==a.position_right?"-"+a.position_right:""),at:g.at+" right"});0<=d.indexOf("center")&&(g="center"===d?{my:"center",at:"center"}:{my:g.my+" center",at:g.at+" center"});0<=d.indexOf("top")&&(g={my:g.my+" top"+(0!==a.position_top?"+"+a.position_top:""),at:g.at+" top"}); 0<=d.indexOf("bottom")&&(g={my:g.my+" bottom"+(0!==a.position_bottom?"-"+a.position_bottom:""),at:g.at+" bottom"});g.my=c.trim(g.my);g.at=c.trim(g.at);g.of=window;g.collision="fit";g.using="function"===typeof b?b:c.fn.popmake.callbacks.reposition_using;e.is(":hidden")&&(h=e.css("opacity"),e.css({opacity:0}).show());a.position_fixed?e.addClass("fixed"):e.removeClass("fixed");"custom"===f.meta.display.size&&e.css({width:f.meta.display.custom_width+f.meta.display.custom_width_unit,height:f.meta.display.custom_height_auto? "auto":f.meta.display.custom_height+f.meta.display.custom_height_unit});e.addClass("custom-position").position(g).trigger("popmakeAfterReposition");h&&e.css({opacity:h}).hide();return this},retheme:function(b){c(this).trigger("popmakeBeforeRetheme");var e=c(this),f=e.data("popmake"),a=c("#"+f.overlay.attr.id),d=c("> ."+f.title.attr["class"],e),g=c("> ."+f.content.attr["class"],e),h=c("> ."+f.close.attr["class"],e),k;void 0===b&&(b=c.fn.popmake.themes[f.theme_id],void 0===b&&(b=c.fn.popmake.themes[1])); f="yes"===b.container.boxshadow_inset?"inset ":"";k="yes"===b.close.boxshadow_inset?"inset ":"";a.removeAttr("style").css({backgroundColor:c.fn.popmake.utilities.convert_hex(b.overlay.background_color,b.overlay.background_opacity)});e.css({padding:b.container.padding+"px",backgroundColor:c.fn.popmake.utilities.convert_hex(b.container.background_color,b.container.background_opacity),borderStyle:b.container.border_style,borderColor:b.container.border_color,borderWidth:b.container.border_width+"px", borderRadius:b.container.border_radius+"px",boxShadow:f+b.container.boxshadow_horizontal+"px "+b.container.boxshadow_vertical+"px "+b.container.boxshadow_blur+"px "+b.container.boxshadow_spread+"px "+c.fn.popmake.utilities.convert_hex(b.container.boxshadow_color,b.container.boxshadow_opacity)});d.css({color:b.title.font_color,fontSize:b.title.font_size+"px",fontFamily:b.title.font_family,textAlign:b.title.text_align,textShadow:b.title.textshadow_horizontal+"px "+b.title.textshadow_vertical+"px "+ b.title.textshadow_blur+"px "+c.fn.popmake.utilities.convert_hex(b.title.textshadow_color,b.title.textshadow_opacity)});g.css({color:b.content.font_color,fontFamily:b.content.font_family});c("p, label",g).css({color:b.content.font_color,fontFamily:b.content.font_family});h.html(b.close.text).css({padding:b.close.padding+"px",backgroundColor:c.fn.popmake.utilities.convert_hex(b.close.background_color,b.close.background_opacity),color:b.close.font_color,fontSize:b.close.font_size+"px",fontFamily:b.close.font_family, borderStyle:b.close.border_style,borderColor:b.close.border_color,borderWidth:b.close.border_width+"px",borderRadius:b.close.border_radius+"px",boxShadow:k+b.close.boxshadow_horizontal+"px "+b.close.boxshadow_vertical+"px "+b.close.boxshadow_blur+"px "+b.close.boxshadow_spread+"px "+c.fn.popmake.utilities.convert_hex(b.close.boxshadow_color,b.close.boxshadow_opacity),textShadow:b.close.textshadow_horizontal+"px "+b.close.textshadow_vertical+"px "+b.close.textshadow_blur+"px "+c.fn.popmake.utilities.convert_hex(b.close.textshadow_color, b.close.textshadow_opacity)});switch(b.close.location){case "topleft":h.css({top:b.close.position_top+"px",left:b.close.position_left+"px"});break;case "topright":h.css({top:b.close.position_top+"px",right:b.close.position_right+"px"});break;case "bottomleft":h.css({bottom:b.close.position_bottom+"px",left:b.close.position_left+"px"});break;case "bottomright":h.css({bottom:b.close.position_bottom+"px",right:b.close.position_right+"px"})}e.trigger("popmakeAfterRetheme",[b]);return this},animate_overlay:function(b, e,f){if(c(this).data("popmake").meta.display.overlay_disabled)f();else{if(c.fn.popmake.overlay_animations[b])return c.fn.popmake.overlay_animations[b].apply(this,Array.prototype.slice.call(arguments,1));c.error("Animation style "+c.fn.popmake.overlay_animations+" does not exist.")}return this},animate:function(b,e){if(c.fn.popmake.animations[b])return c.fn.popmake.animations[b].apply(this,Array.prototype.slice.call(arguments,1));c.error("Animation style "+c.fn.popmake.animations+" does not exist."); return this}};c.fn.popmake.callbacks={reposition_using:function(b){c(this).css(b)}};c.fn.popmake.utilities={convert_hex:function(b,c){b=b.replace("#","");var f=parseInt(b.substring(0,2),16),a=parseInt(b.substring(2,4),16),d=parseInt(b.substring(4,6),16);return"rgba("+f+","+a+","+d+","+c/100+")"},debounce:function(b,c){var f;return function(){var a=this,d=arguments;window.clearTimeout(f);f=window.setTimeout(function(){b.apply(a,d)},c)}},throttle:function(b,c){var f=!1,a=function(){f=!1};return function(){f|| (b.apply(this,arguments),window.setTimeout(a,c),f=!0)}},getXPath:function(b){var e=[],f,a,d,g,h;c.each(c(b).parents(),function(b,l){f=c(l);a=f.attr("id")||"";d=f.attr("class")||"";g=f.get(0).tagName.toLowerCase();h=f.parent().children(g).index(f);if("body"===g)return!1;0<d.length&&(d=d.split(" "),d=d[0]);e.push(g+(0<a.length?"#"+a:0<d.length?"."+d.split(" ").join("."):":eq("+h+")"))});return e.reverse().join(" > ")},strtotime:function(b,c){function f(a){var b=a.split(" ");a=b[0];var c=b[1].substring(0, 3),d=/\d+/.test(a),e=("last"===a?-1:1)*("ago"===b[2]?-1:1);d&&(e*=parseInt(a,10));if(k.hasOwnProperty(c)&&!b[1].match(/^mon(day|\.)?$/i))return g["set"+k[c]](g["get"+k[c]]()+e);if("wee"===c)return g.setDate(g.getDate()+7*e);if("next"===a||"last"===a)b=e,c=h[c],void 0!==c&&(c-=g.getDay(),0===c?c=7*b:0<c&&"last"===a?c-=7:0>c&&"next"===a&&(c+=7),g.setDate(g.getDate()+c));else if(!d)return!1;return!0}var a,d,g,h,k,l;if(!b)return!1;b=b.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g, "").toLowerCase();if((a=b.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/))&&a[2]===a[4])if(1901<a[1])switch(a[2]){case "-":return 12<a[3]||31<a[5]?!1:new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1E3;case ".":return!1;case "/":return 12<a[3]||31<a[5]?!1:new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1E3}else if(1901<a[5])switch(a[2]){case "-":return 12<a[3]||31<a[1]?!1:new Date(a[5], parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1E3;case ".":return 12<a[3]||31<a[1]?!1:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1E3;case "/":return 12<a[1]||31<a[3]?!1:new Date(a[5],parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1E3}else switch(a[2]){case "-":if(12<a[3]||31<a[5]||70>a[1]&&38<a[1])return!1;d=0<=a[1]&&38>=a[1]?+a[1]+2E3:a[1];return new Date(d,parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1E3;case ".":if(70<=a[5])return 12< a[3]||31<a[1]?!1:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1E3;if(60>a[5]&&!a[6]){if(23<a[1]||59<a[3])return!1;d=new Date;return new Date(d.getFullYear(),d.getMonth(),d.getDate(),a[1]||0,a[3]||0,a[5]||0,a[9]||0)/1E3}return!1;case "/":if(12<a[1]||31<a[3]||70>a[5]&&38<a[5])return!1;d=0<=a[5]&&38>=a[5]?+a[5]+2E3:a[5];return new Date(d,parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1E3;case ":":if(23<a[1]||59<a[3]||59<a[5])return!1;d=new Date;return new Date(d.getFullYear(), d.getMonth(),d.getDate(),a[1]||0,a[3]||0,a[5]||0)/1E3}if("now"===b)return null===c||isNaN(c)?(new Date).getTime()/1E3||0:c||0;a=Date.parse(b);if(!isNaN(a))return a/1E3||0;g=c?new Date(1E3*c):new Date;h={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};k={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"};a=b.match(RegExp("([+-]?\\d+\\s(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)|(last|next)\\s(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?))(\\sago)?", "gi"));if(!a)return!1;l=0;for(d=a.length;l<d;l+=1)if(!f(a[l]))return!1;return g.getTime()/1E3}};c.fn.popmake.utilies=c.fn.popmake.utilities;c.fn.popmake.defaults={theme_id:popmake_default_theme,meta:{display:{stackable:0,overlay_disabled:0,size:"medium",custom_width:"",custom_width_unit:"%",custom_height:"",custom_height_unit:"em",custom_height_auto:0,location:"center top",position_top:100,position_left:0,position_bottom:0,position_right:0,position_fixed:0,animation_type:"fade",animation_speed:350, animation_origin:"center top"},close:{overlay_click:0,esc_press:0}},container:{active_class:"active",attr:{"class":"popmake"}},title:{attr:{"class":"popmake-title"}},content:{attr:{"class":"popmake-content"}},close:{close_speed:0,attr:{"class":"popmake-close"}},overlay:{attr:{id:"popmake-overlay","class":"popmake-overlay"}}};c.fn.popmake.themes=popmake_themes;c.fn.popmake.overlay_animations={none:function(b,e){var f=c(this).data("popmake");c("#"+f.overlay.attr.id).show(b,e)},fade:function(b,e){var f= c(this).data("popmake");c("#"+f.overlay.attr.id).fadeIn(b,e)},slide:function(b,e){var f=c(this).data("popmake");c("#"+f.overlay.attr.id).slideDown(b,e)}};c.fn.popmake.animations={none:function(b){var e=c(this);e.popmake("animate_overlay","none",0,function(){e.show();void 0!==b&&b()});return this},slide:function(b){var e=c(this).show(0).css({opacity:0}),f=e.data("popmake"),a=f.meta.display.animation_speed,f=f.meta.display.animation_origin,d={my:"",at:""};switch(f){case "top":d={my:"left+"+e.offset().left+ " bottom",at:"left top"};break;case "bottom":d={my:"left+"+e.offset().left+" top",at:"left bottom"};break;case "left":d={my:"right top+"+e.offset().top,at:"left top"};break;case "right":d={my:"left top+"+e.offset().top,at:"right top"};break;default:0<=f.indexOf("left")&&(d={my:d.my+" right",at:d.at+" left"}),0<=f.indexOf("right")&&(d={my:d.my+" left",at:d.at+" right"}),0<=f.indexOf("center")&&(d={my:d.my+" center",at:d.at+" center"}),0<=f.indexOf("top")&&(d={my:d.my+" bottom",at:d.at+" top"}),0<= f.indexOf("bottom")&&(d={my:d.my+" top",at:d.at+" bottom"}),d.my=c.trim(d.my),d.at=c.trim(d.at)}d.of=window;d.collision="none";c("html").css("overflow-x","hidden");e.position(d).css({opacity:1});e.popmake("animate_overlay","fade",.25*a,function(){e.popmake("reposition",function(d){d.opacity=1;e.transition(d,.75*a,function(){c("html").css("overflow-x","inherit");void 0!==b&&b()})})});return this},fade:function(b){var e=c(this),f=e.data("popmake").meta.display.animation_speed/2;e.popmake("animate_overlay", "fade",f,function(){e.fadeIn(f,function(){void 0!==b&&b()})});return this},fadeAndSlide:function(b){var e=c(this).show(0).css({opacity:0}),f=e.data("popmake"),a=f.meta.display.animation_speed,f=f.meta.display.animation_origin,d={my:"",at:""};switch(f){case "top":d={my:"left+"+e.offset().left+" bottom",at:"left top"};break;case "bottom":d={my:"left+"+e.offset().left+" top",at:"left bottom"};break;case "left":d={my:"right top+"+e.offset().top,at:"left top"};break;case "right":d={my:"left top+"+e.offset().top, at:"right top"};break;default:0<=f.indexOf("left")&&(d={my:d.my+" right",at:d.at+" left"}),0<=f.indexOf("right")&&(d={my:d.my+" left",at:d.at+" right"}),0<=f.indexOf("center")&&(d={my:d.my+" center",at:d.at+" center"}),0<=f.indexOf("top")&&(d={my:d.my+" bottom",at:d.at+" top"}),0<=f.indexOf("bottom")&&(d={my:d.my+" top",at:d.at+" bottom"}),d.my=c.trim(d.my),d.at=c.trim(d.at)}d.of=window;d.collision="none";c("html").css("overflow-x","hidden");e.position(d);e.popmake("animate_overlay","fade",.25*a, function(){e.popmake("reposition",function(d){d.opacity=1;e.transition(d,.75*a,function(){c("html").css("overflow-x","inherit");void 0!==b&&b()})})});return this},grow:function(b){var e=c(this),f=e.data("popmake"),a=f.meta.display.animation_speed;e.css({transformOrigin:f.meta.display.animation_origin,opacity:0}).show();e.popmake("animate_overlay","fade",.25*a,function(){e.popmake("reposition",function(c){c.scale=1;c.duration=.75*a;e.css({scale:0,opacity:1}).transition(c);void 0!==b&&b()})});return this}, growAndSlide:function(b){var e=c(this).css({opacity:0}).show(),f=e.data("popmake"),a=f.meta.display.animation_speed,f=f.meta.display.animation_origin,d={my:"",at:""};switch(f){case "top":d={my:"left+"+e.offset().left+" bottom",at:"left top"};break;case "bottom":d={my:"left+"+e.offset().left+" top",at:"left bottom"};break;case "left":d={my:"right top+"+e.offset().top,at:"left top"};break;case "right":d={my:"left top+"+e.offset().top,at:"right top"};break;default:0<=f.indexOf("left")&&(d={my:d.my+" right", at:d.at+" left"}),0<=f.indexOf("right")&&(d={my:d.my+" left",at:d.at+" right"}),0<=f.indexOf("center")&&(d={my:d.my+" center",at:d.at+" center"}),0<=f.indexOf("top")&&(d={my:d.my+" bottom",at:d.at+" top"}),0<=f.indexOf("bottom")&&(d={my:d.my+" top",at:d.at+" bottom"}),d.my=c.trim(d.my),d.at=c.trim(d.at)}d.of=window;d.collision="none";c("html").css("overflow-x","hidden");e.position(d).css({opacity:"center center"===f?0:1,transformOrigin:f});e.popmake("animate_overlay","fade",.25*a,function(){e.popmake("reposition", function(d){d.scale=1;d.opacity=1;d.duration=.75*a;e.css({scale:0}).transition(d,function(){c("html").css("overflow-x","inherit")});void 0!==b&&b()})});return this}};c(".popmake").css({visibility:"visible"}).hide();c(document).ready(function(){c(".popmake").popmake().each(function(){var b=c(this);c(document).on("click","."+b.attr("id"),function(e){e.preventDefault();e.stopPropagation();c.fn.popmake.last_open_trigger=c.fn.popmake.utilities.getXPath(this);b.popmake("open")});c("."+b.attr("id")).css("cursor", "pointer")})})})(jQuery);